/**
 * Entry Screen Styles
 * 
 * Styles for the entry door screen, custom cursor, and animations.
 */

/* ============================================
   Custom Retro Cursor (Pixelated)
   ============================================ */
body {
    cursor: url('../assets/cursor-retro.svg') 1 1, crosshair;
}

body a,
body button,
body [role="button"],
.door-hover {
    cursor: url('../assets/cursor-retro-hover.svg') 1 1, pointer;
}

/* ============================================
   Entry Screen Container
   ============================================ */
#entry-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: var(--color-white);
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1),
                opacity 0.5s ease;
    transform-origin: center center;
    perspective: 1500px;
}

#door-canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

/* ============================================
   Door Hover State
   ============================================ */
#door-canvas.door-hover {
    cursor: url('../assets/cursor-retro-hover.svg') 1 1, pointer;
}

/* ============================================
   Door Opening Animation
   ============================================ */

/* Phase 1: Door swings open (3D rotation) */
#entry-screen.door-swing {
    animation: doorSwing 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes doorSwing {
    0% {
        transform: perspective(1500px) rotateY(0deg);
        transform-origin: left center;
    }
    100% {
        transform: perspective(1500px) rotateY(-85deg);
        transform-origin: left center;
    }
}

/* Phase 2: Zoom through the doorway */
#entry-screen.zoom-through {
    animation: doorSwing 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards,
               zoomThrough 1s cubic-bezier(0.4, 0, 0.2, 1) 0.1s forwards;
}

@keyframes zoomThrough {
    0% {
        opacity: 1;
        transform: perspective(1500px) rotateY(-85deg) scale(1);
        transform-origin: left center;
    }
    50% {
        opacity: 0.8;
        transform: perspective(1500px) rotateY(-90deg) scale(2);
        transform-origin: left center;
    }
    100% {
        opacity: 0;
        transform: perspective(1500px) rotateY(-90deg) scale(5);
        transform-origin: left center;
    }
}

/* ============================================
   Main Content Initial State
   ============================================ */
#main-content {
    display: none;
    position: relative;
    z-index: 10;
}

#main-content.revealed {
    display: block;
    opacity: 1;
    pointer-events: auto;
}

/* When fully entered, ensure content is visible */
body.entered #main-content {
    display: block !important;
    opacity: 1 !important;
    pointer-events: auto !important;
}

/* ============================================
   Optional: Door hint animation
   (subtle pulse to indicate interactivity)
   ============================================ */
@keyframes doorPulse {
    0%, 100% {
        filter: drop-shadow(0 0 0 transparent);
    }
    50% {
        filter: drop-shadow(0 0 20px rgba(0, 0, 0, 0.1));
    }
}

#door-canvas:not(.door-opening) {
    animation: doorPulse 3s ease-in-out infinite;
    animation-delay: 2s;
}

/* ============================================
   Entry text hint (optional)
   ============================================ */
.entry-hint {
    position: absolute;
    bottom: 5%;
    left: 50%;
    transform: translateX(-50%);
    font-size: var(--font-size-sm);
    color: var(--color-black);
    opacity: 0;
    animation: hintFadeIn 0.5s ease forwards;
    animation-delay: 1s;
    text-align: center;
    pointer-events: none;
    z-index: 10000;
}

@keyframes hintFadeIn {
    from {
        opacity: 0;
        transform: translateX(-50%) translateY(10px);
    }
    to {
        opacity: 0.6;
        transform: translateX(-50%) translateY(0);
    }
}

#entry-screen.door-swing .entry-hint,
#entry-screen.zoom-through .entry-hint {
    opacity: 0 !important;
    animation: none;
}


